<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>For the one who has my heart, happy valentines day Paris!!ðŸ’—</title>
<style>
  :root{
    --bg:#07040a;
    --pink:#ff4fbf;
    --pink2:#ff8bd8;
    --violet:#b36bff;
    --text:#ffd6f0;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:radial-gradient(1200px 800px at 50% 45%, rgba(255,79,191,.12), transparent 60%),
               radial-gradient(900px 600px at 50% 55%, rgba(179,107,255,.10), transparent 60%),
               var(--bg);
    overflow:hidden;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    color:var(--text);
  }

  /* ===== Background stars (no "star" text) ===== */
  #starfield{
    position:fixed; inset:0;
    pointer-events:none;
    overflow:hidden;
    z-index:0;
  }
  .s{
    position:absolute;
    width:10px; height:10px;
    transform:translate(-50%,-50%) rotate(0deg);
    opacity:.9;
    filter: drop-shadow(0 0 6px rgba(179,107,255,.35));
    animation: twinkle var(--tw, 3.2s) ease-in-out infinite;
  }
  .s.big{width:14px;height:14px; opacity:.95}
  .s.small{width:8px;height:8px; opacity:.75}
  .s svg{width:100%;height:100%}
  @keyframes twinkle{
    0%,100%{transform:translate(-50%,-50%) scale(.85) rotate(0deg); opacity:.55}
    50%{transform:translate(-50%,-50%) scale(1.05) rotate(8deg); opacity:1}
  }

  /* ===== Main stage ===== */
  .stage{
    position:relative;
    height:100%;
    width:100%;
    display:grid;
    place-items:center;
    z-index:1;
  }

  /* ===== Heart wrapper (ONLY this reacts to buttons) ===== */
  .heart-wrap{
    position:relative;
    width:min(520px, 70vw);
    aspect-ratio: 1 / 1;
    display:grid;
    place-items:center;
    transform:translateY(-10px);
    z-index:3;
  }
  /* ambient glow behind heart */
  .glow{
    position:absolute; inset:-10%;
    background: radial-gradient(circle at 50% 55%, rgba(255,79,191,.22), transparent 55%),
                radial-gradient(circle at 50% 45%, rgba(179,107,255,.16), transparent 55%);
    filter: blur(18px);
    opacity:.9;
    z-index:1;
    pointer-events:none;
  }

  /* heart base (static shape) */
  .heart-base{
    position:absolute;
    inset:12%;
    z-index:2;
    pointer-events:none;
    filter: drop-shadow(0 0 16px rgba(255,79,191,.25));
  }

  /* rotating WORDS only (heart outline stays still) */
  .heart-words{
    position:absolute;
    inset:0;
    z-index:4;
    pointer-events:none;
  }
  .heart-words svg{width:100%;height:100%}
  .spin-words{
    transform-origin:50% 50%;
    animation: wordspin 14s linear infinite;
  }
  @keyframes wordspin{
    from{transform:rotate(0deg)}
    to{transform:rotate(360deg)}
  }
  .wordtext{
    font-size: 15px;
    letter-spacing: 5px; /* more readable spacing */
    fill: rgba(255,140,216,.95);
    filter: drop-shadow(0 0 6px rgba(255,79,191,.35));
  }

  /* When music is playing: subtle "Now Playing" glow + pulse */
  .playing .heart-wrap{ animation: pulse 2.2s ease-in-out infinite; }
  @keyframes pulse{
    0%,100%{transform:translateY(-10px) scale(1)}
    50%{transform:translateY(-10px) scale(1.02)}
  }
  .music-status{
    position:absolute;
    left:50%; top:calc(100% + 14px);
    transform:translateX(-50%);
    font-size:12px;
    opacity:.0;
    transition:opacity .25s ease, filter .25s ease;
    color:rgba(255,214,240,.85);
    text-align:center;
    pointer-events:none;
  }
  .playing .music-status{
    opacity:1;
    filter: drop-shadow(0 0 10px rgba(255,79,191,.45));
  }

  /* Button row */
  .ui{
    position:absolute;
    left:50%;
    top:calc(100% + 44px);
    transform:translateX(-50%);
    display:flex;
    gap:14px;
    flex-wrap:wrap;
    justify-content:center;
    z-index:5;
  }
  button{
    background: rgba(0,0,0,.35);
    border:2px solid rgba(255,79,191,.75);
    color: rgba(255,214,240,.92);
    padding:10px 16px;
    border-radius:999px;
    cursor:pointer;
    font-size:13px;
    letter-spacing:.3px;
    transition: transform .15s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease;
    box-shadow: 0 0 18px rgba(255,79,191,.12);
    backdrop-filter: blur(6px);
  }
  button:hover{ transform:translateY(-1px); box-shadow:0 0 22px rgba(255,79,191,.22); }
  button:active{ transform:translateY(1px) scale(.99); }
  .hidden-message{
    position:absolute;
    left:50%;
    top:calc(100% + 92px);
    transform:translateX(-50%);
    width:min(720px, 92vw);
    text-align:center;
    z-index:5;
    opacity:0;
    transition: opacity .35s ease;
    font-size:16px;
    color: rgba(255,214,240,.95);
    text-shadow: 0 0 12px rgba(255,79,191,.22);
  }
  .hidden-message.show{ opacity:1; }
  .cursor{
    display:inline-block;
    width:10px;
    margin-left:4px;
    opacity:.9;
    animation: blink 1s steps(2,end) infinite;
  }
  @keyframes blink{ 50%{opacity:0} }

  /* ===== Polaroids (fixed places; no overlap; slight drift only) ===== */
  .polaroid-layer{
    position:absolute;
    inset:0;
    z-index:2; /* behind words; above stars */
    pointer-events:none;
  }
  .polaroid{
    position:absolute;
    width:clamp(120px, 16vw, 190px);
    background: rgba(255,255,255,.95);
    border-radius:12px;
    padding:10px 10px 12px;
    box-shadow: 0 18px 45px rgba(0,0,0,.55);
    transform: translate(-50%,-50%) rotate(var(--rot, -6deg));
    filter: drop-shadow(0 0 10px rgba(255,255,255,.18));
    animation: drift var(--d, 9s) ease-in-out infinite;
    transform-origin:50% 50%;
  }
  .polaroid::before{
    content:"";
    position:absolute;
    width:46px;height:18px;
    background: rgba(255,255,255,.55);
    top:-8px; left:16px;
    border-radius:4px;
    transform: rotate(-8deg);
    box-shadow: 0 6px 14px rgba(0,0,0,.2);
  }
  .polaroid img{
    width:100%;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius:10px;
    display:block;
    background:#ddd;
  }
  .cap{
    margin-top:8px;
    font-size:12px;
    color:#222;
    text-align:center;
    letter-spacing:.2px;
  }
  @keyframes drift{
    0%,100%{ transform: translate(-50%,-50%) rotate(var(--rot)) translate(0,0); }
    50%{ transform: translate(-50%,-50%) rotate(var(--rot)) translate(var(--dx, 6px), var(--dy, -6px)); }
  }
  /* IMPORTANT: heart button effects should NOT move photos */
  /* (We never apply transforms to stage/body; only heart-wrap toggles classes) */

  /* Mobile safety: reduce sizes a bit */
  @media (max-width: 520px){
    .wordtext{font-size:13px; letter-spacing:4px;}
    button{font-size:12px; padding:9px 14px;}
  }
</style>
</head>
<body>

<div id="starfield" aria-hidden="true"></div>

<div class="stage">
  <div class="polaroid-layer" id="polaroidLayer" aria-label="memories"></div>

  <div class="heart-wrap" id="heartWrap">
    <div class="glow" aria-hidden="true"></div>

    <!-- Static heart shape -->
    <svg class="heart-base" viewBox="0 0 100 100" aria-hidden="true">
      <defs>
        <filter id="heartGlow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="2.4" result="blur"/>
          <feMerge>
            <feMergeNode in="blur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <linearGradient id="heartFill" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0" stop-color="rgba(255,79,191,.35)"/>
          <stop offset="1" stop-color="rgba(60,0,60,.35)"/>
        </linearGradient>
      </defs>
      <!-- soft filled heart -->
      <path d="M50 86
               C50 86, 18 65, 18 40
               C18 26, 28 18, 40 18
               C47 18, 52 22, 50 28
               C48 22, 53 18, 60 18
               C72 18, 82 26, 82 40
               C82 65, 50 86, 50 86Z"
            fill="url(#heartFill)" filter="url(#heartGlow)"/>
      <!-- subtle outline -->
      <path d="M50 86
               C50 86, 18 65, 18 40
               C18 26, 28 18, 40 18
               C47 18, 52 22, 50 28
               C48 22, 53 18, 60 18
               C72 18, 82 26, 82 40
               C82 65, 50 86, 50 86Z"
            fill="none" stroke="rgba(255,79,191,.35)" stroke-width="1.2"/>
    </svg>

    <!-- Rotating words ONLY -->
    <div class="heart-words" aria-hidden="true">
      <svg viewBox="0 0 100 100">
        <defs>
          <!-- Heart outline path for text -->
          <path id="heartPath"
            d="M50 86
               C50 86, 18 65, 18 40
               C18 26, 28 18, 40 18
               C47 18, 52 22, 50 28
               C48 22, 53 18, 60 18
               C72 18, 82 26, 82 40
               C82 65, 50 86, 50 86Z" />
        </defs>

        <g class="spin-words">
          <text class="wordtext">
            <textPath href="#heartPath" startOffset="0%">
              I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢
            </textPath>
          </text>
          <!-- second layer, offset, to reduce gaps on different screens but keep readable -->
          <text class="wordtext" opacity="0.85">
            <textPath href="#heartPath" startOffset="50%">
              I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢ I LOVE YOU â€¢
            </textPath>
          </text>
        </g>
      </svg>
    </div>

    <div class="ui">
      <button id="missBtn">Press if you miss me ðŸ’Œ</button>
      <button id="hugBtn">Press if you need a hug ðŸ’—</button>
      <button id="musicBtn">Play music ðŸŽ¶</button>
    </div>

    <div class="hidden-message" id="message"></div>
    <div class="music-status" id="musicStatus">Now Playing âœ¨</div>
  </div>
</div>

<audio id="bgm" preload="auto" loop src="forever-lady-of-soul.mp3"></audio>

<script>
/* ========= Stars ========= */
(function(){
  const starfield = document.getElementById('starfield');

  function starSVG(){
    // 5-point star polygon (no text)
    return `
      <svg viewBox="0 0 100 100" aria-hidden="true" focusable="false">
        <defs>
          <radialGradient id="g" cx="50%" cy="50%" r="60%">
            <stop offset="0" stop-color="rgba(255,255,255,.95)"/>
            <stop offset="0.35" stop-color="rgba(200,160,255,.85)"/>
            <stop offset="1" stop-color="rgba(179,107,255,.65)"/>
          </radialGradient>
        </defs>
        <polygon fill="url(#g)"
          points="50,6 61,38 95,38 67,57 78,90 50,71 22,90 33,57 5,38 39,38"/>
      </svg>`;
  }

  const COUNT = 110; // denser
  for(let i=0;i<COUNT;i++){
    const el = document.createElement('div');
    el.className = 's ' + (Math.random()<0.18 ? 'big' : (Math.random()<0.45 ? 'small' : ''));
    el.style.left = (Math.random()*100) + 'vw';
    el.style.top  = (Math.random()*100) + 'vh';
    el.style.setProperty('--tw', (2.2 + Math.random()*3.6) + 's');
    el.innerHTML = starSVG();
    starfield.appendChild(el);
  }
})();

/* ========= Polaroids (fixed, spaced, no overlap) ========= */
const photos = ["photo1.jpeg","photo2.jpeg","photo3.jpeg","photo4.jpeg","photo5.jpeg","photo6.jpeg","photo7.jpeg","photo8.jpeg","photo9.jpeg","photo10.jpeg","photo11.jpeg","photo12.jpeg"];
const captions = ["my love ðŸ’—","always & forever","i love you","my favorite person","My ladybug","Love you always","love you more","My happy place","my heart's rest","The one I love","my world","The one for me"];

// Carefully chosen anchors around the heart (percent of viewport)
const ANCHORS = [
  {x: 20, y: 18, rot:-10, dx: 7, dy:-7},
  {x: 38, y: 12, rot: 6,  dx:-6, dy: 7},
  {x: 62, y: 12, rot:-6,  dx: 6, dy: 7},
  {x: 80, y: 18, rot: 10, dx:-7, dy:-6},

  {x: 14, y: 40, rot:-8,  dx: 6, dy:-6},
  {x: 26, y: 38, rot: 7,  dx:-6, dy: 6},
  {x: 74, y: 38, rot:-7,  dx: 6, dy: 6},
  {x: 86, y: 40, rot: 8,  dx:-6, dy:-6},

  {x: 22, y: 70, rot: 9,  dx:-6, dy:-6},
  {x: 38, y: 76, rot:-8, dx: 6, dy: 6},
  {x: 62, y: 76, rot: 8,  dx:-6, dy: 6},
  {x: 78, y: 70, rot:-9, dx: 6, dy:-6},
];

(function buildPolaroids(){
  const layer = document.getElementById('polaroidLayer');
  layer.innerHTML = '';
  const count = Math.min(photos.length, ANCHORS.length);

  for(let i=0;i<count;i++){
    const a = ANCHORS[i];
    const card = document.createElement('div');
    card.className = 'polaroid';
    card.style.left = a.x + 'vw';
    card.style.top  = a.y + 'vh';
    card.style.setProperty('--rot', (a.rot) + 'deg');
    card.style.setProperty('--dx', (a.dx) + 'px');
    card.style.setProperty('--dy', (a.dy) + 'px');
    card.style.setProperty('--d', (7.5 + (i%4)*1.1) + 's');

    const img = document.createElement('img');
    img.src = photos[i];
    img.alt = captions[i] || ('photo ' + (i+1));

    const cap = document.createElement('div');
    cap.className = 'cap';
    cap.textContent = captions[i] || '';

    card.appendChild(img);
    card.appendChild(cap);
    layer.appendChild(card);
  }
})();

/* ========= Buttons (only heart reacts) ========= */
const heartWrap = document.getElementById('heartWrap');
const msg = document.getElementById('message');

function typeMessage(text){
  msg.classList.add('show');
  msg.innerHTML = ''; // reset
  const span = document.createElement('span');
  const cur = document.createElement('span');
  cur.className='cursor';
  cur.textContent='|';
  msg.appendChild(span);
  msg.appendChild(cur);

  let i=0;
  const t = setInterval(()=>{
    span.textContent = text.slice(0, i++);
    if(i>text.length){
      clearInterval(t);
      setTimeout(()=>cur.remove(), 900);
    }
  }, 28);
}

function bumpHeart(){
  heartWrap.animate(
    [{transform:'translateY(-10px) scale(1)'},
     {transform:'translateY(-10px) scale(1.05)'},
     {transform:'translateY(-10px) scale(1)'}],
    {duration:420, easing:'ease-out'}
  );
}

document.getElementById('missBtn').addEventListener('click', ()=>{
  bumpHeart();
  typeMessage("you will always be the one i love, forever and ever. ðŸ’—");
});

document.getElementById('hugBtn').addEventListener('click', ()=>{
  bumpHeart();
  // quick floating hug hearts (pink)
  for(let i=0;i<10;i++){
    const h = document.createElement('div');
    h.textContent = 'ðŸ’—';
    h.style.position='fixed';
    h.style.left = (50 + (Math.random()*18-9)) + 'vw';
    h.style.top  = (58 + (Math.random()*6-3)) + 'vh';
    h.style.fontSize = (14 + Math.random()*14) + 'px';
    h.style.opacity = '0';
    h.style.pointerEvents='none';
    h.style.zIndex = 9;
    document.body.appendChild(h);

    const driftX = (Math.random()*120-60);
    const driftY = -(120 + Math.random()*140);

    h.animate([
      {transform:'translate(-50%,-50%) translate(0,0) scale(.9)', opacity:0},
      {transform:`translate(-50%,-50%) translate(${driftX*0.25}px, ${driftY*0.35}px) scale(1.05)`, opacity:0.95},
      {transform:`translate(-50%,-50%) translate(${driftX}px, ${driftY}px) scale(.95)`, opacity:0}
    ], {duration: 1400 + Math.random()*600, easing:'ease-out'}).onfinish = ()=>h.remove();
  }
});

/* ========= Music (click-to-play) ========= */
const audio = document.getElementById('bgm');
const musicBtn = document.getElementById('musicBtn');
const musicStatus = document.getElementById('musicStatus');

function setPlayingUI(isPlaying){
  document.body.classList.toggle('playing', isPlaying);
  musicStatus.textContent = isPlaying ? 'Now Playing âœ¨' : '';
}

musicBtn.addEventListener('click', async ()=>{
  try{
    if(audio.paused){
      await audio.play();
      setPlayingUI(true);
      musicBtn.textContent = 'Pause music â¸ï¸';
    }else{
      audio.pause();
      setPlayingUI(false);
      musicBtn.textContent = 'Play music ðŸŽ¶';
    }
  }catch(e){
    // If autoplay policy blocks, user must click again or unmute site
    alert("If it didn't start, click the button once more (browser audio rule). Also confirm forever-lady-of-soul.mp3 is in the same folder as index.html.");
  }
});

audio.addEventListener('play', ()=>setPlayingUI(true));
audio.addEventListener('pause', ()=>setPlayingUI(false));
</script>
</body>
</html>
